(this["webpackJsonpnext-meal"]=this["webpackJsonpnext-meal"]||[]).push([[0],{131:function(e,t,a){},141:function(e,t,a){},205:function(e,t,a){e.exports=a(362)},227:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(56),c=a.n(i),l=a(15),o=a(371),s=a(24),m=a(8),d=a(16),u=a(166),p=a.n(u),f=a(69),h=a(378),b=a(372),_=(a(131),a(20)),g=a(21),E=a(11),v=a(23),N=a(22),y=a(5),w=a.n(y),k=a(376),O=a(370),S=a(167),j=a.n(S),C=a(19),F=a(52),x=a(171),T=a(373),I=a(99),L=a(369),D=a(377),H=a(374),M=(a(375),"\u5403\u4ec0\u9ebc\uff0c\u3069\u3063\u3061"),A=a(216);a(225),A.apps.length||A.initializeApp({apiKey:"AIzaSyC_xPAyKYsvuIuT6mceI_8gow7H3cSo3BI",authDomain:"dotch-food.firebaseapp.com",projectId:"dotch-food",appId:"1:704347748284:web:b8810b7047523654c95db9"}),a(226);A.performance();var R=function(){return{type:"FETCH_RECOMMEND_STORE_LIST",payload:A.firestore().collection("stores").where("recommend","==",!0).limit(4).get()}},P=function(){return{type:"FETCH_HOT_STORE_LIST",payload:A.firestore().collection("stores").where("hot","==",!0).limit(4).get()}},V=function(e){var t=e.userID,a=e.store;return{type:"ADD_FAV_LIST",payload:A.firestore().collection("favlist").doc(t).update({list:A.firestore.FieldValue.arrayUnion(a)})}},U=function(e){return{type:"FETCH_STORE_INFO",payload:A.firestore().collection("stores").where("id","==",e).limit(1).get()}},B=function(e){return{type:"FETCH_STORE_COMMENTS",payload:A.firestore().collection("comments").where("id","==",e).limit(5).get()}},G={fav:{id:"fav",title:"\u6211\u7684\u6700\u611b",icon:"heart",link:"/fav",modalType:null,needLogin:!0},register:{id:"register",title:"\u8a3b\u518a",icon:"star",link:"#",modalType:null,needLogin:!1},login:{id:"login",title:"\u767b\u5165",icon:"star",link:"#",modalType:"login",needLogin:!1},logout:{id:"logout",title:"\u767b\u51fa",icon:"star",link:"/",modalType:null,needLogin:!0}},Y={index:{id:"index",title:"\u9996\u9801",icon:"star",link:"/",modalType:null,needLogin:!0},store:{id:"store",title:"\u5546\u5e97\u9801",icon:"star",link:"/",modalType:null,needLogin:!1},tag:{id:"tag",title:"\u6a19\u7c64\u9801",icon:"star",link:"/",modalType:null,needLogin:!1}},K=(a(227),{LOGIN:"login"}),J=new x.a({firstPaint:!0,firstContentfulPaint:!0,firstInputDelay:!0,timeToInteractive:!0,logging:!0,googleAnalytics:{enable:!0,timingVar:"userId"},analyticsTracker:function(e){var t=e.metricName,a=e.data;e.duration;switch(t){case"navigationTiming":a&&a.timeToFirstByte&&F.a.event({category:"performance by perfume",action:"navigationTiming",value:Number(a.timeToFirstByte),label:"".concat(t,": ").concat(a.timeToFirstByte)});break;case"networkInformation":a&&a.effectiveType&&F.a.event({category:"performance by perfume",action:"networkInformation",value:Number(a.effectiveType),label:"".concat(t,": ").concat(a.effectiveType)});break;case"fp":case"fcp":case"fid":case"lcp":case"lcpFinal":case"cls":case"clsFinal":case"tbt":case"tbt5S":case"tbt10S":case"tbtFinal":var n=Math.round(Number(a));console.log("".concat(t,": ").concat(n)),F.a.timing({category:"performance by perfume (timing)",variable:t,value:n,label:"".concat(t,": ").concat(n)}),F.a.event({category:"performance by perfume",action:t,value:n,label:"".concat(t,": ").concat(n)})}}}),z=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={account:null,keyword:"",modalType:null,password:null},n.onSeachHandler=n.onSeachHandler.bind(Object(E.a)(n)),n.onSearchInputChange=n.onSearchInputChange.bind(Object(E.a)(n)),n.renderLoginModal=n.renderLoginModal.bind(Object(E.a)(n)),n.renderLogo=n.renderLogo.bind(Object(E.a)(n)),n.renderMenuItems=n.renderMenuItems.bind(Object(E.a)(n)),n.renderMenuList=n.renderMenuList.bind(Object(E.a)(n)),n.renderSearchBox=n.renderSearchBox.bind(Object(E.a)(n)),J.start("AppAfterPaint"),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.cookies.cookies,n=this.props.user.isLogin?this.props.user.userInfo.id:"unknown user";if(F.a.initialize("UA-44647801-7",{gaOptions:{userId:n}}),J.endPaint("AppAfterPaint"),a&&a.dotchfooduser)try{t({type:"RESTORE_USER_INFO",payload:JSON.parse(a.dotchfooduser)})}catch(r){console.log(r),t({type:"LOGOUT"})}else t({type:"LOGOUT"})}},{key:"componentDidUpdate",value:function(e){var t=e.location,a=this.props.location,n=a.pathname,r=a.search,i=n!==t.pathname,c=r!==t.search;(i||c)&&this.logPageChange(n,r)}},{key:"logPageChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e+t,n=window,r=n.location;F.a.set(Object(C.a)({page:a,location:"".concat(r.origin).concat(a)},this.props.options)),F.a.pageview(a)}},{key:"onSearchInputChange",value:function(e){this.setState({keyword:e})}},{key:"onAccountInputChange",value:function(e){this.setState({account:e})}},{key:"onPasswordInputChange",value:function(e){this.setState({password:e})}},{key:"onSeachHandler",value:function(e){if("Enter"===e.key){var t=e.target.value;this.props.history.push("/tag/".concat(t))}}},{key:"renderMenuList",value:function(){return r.a.createElement("div",{className:"header__menu-list"},this.renderMenuItems())}},{key:"renderMenuItems",value:function(){var e=this,t=this.props.user.isLogin;return w.a.map(G,(function(a){return t===a.needLogin&&r.a.createElement("div",{key:a.title,className:"header__menu__item",id:a.id},r.a.createElement(m.b,{to:a.link,title:a.title,className:"header__menu__item__link",onClick:function(){a.modalType===K.LOGIN?e.setState({modalType:K.LOGIN}):"logout"===a.id&&e.props.dispatch({type:"LOGOUT"})}},r.a.createElement("span",{title:a.title,className:"header__menu__item__icon icon-".concat(a.icon)}),r.a.createElement("span",{className:"header__menu__item__title"},a.title)))}))}},{key:"renderSearchBox",value:function(){var e=this,t=this.state.keyword;return r.a.createElement("div",{className:"header__searchbox"},r.a.createElement("input",{className:"header__search-input",placeholder:"\u6709\u4ec0\u9ebc\u597d\u5403\u7684\uff1f","aria-label":"\u6709\u4ec0\u9ebc\u597d\u5403\u7684\uff1f",value:t,onChange:function(t){return e.onSearchInputChange(t.target.value)},onKeyPress:function(t){return e.onSeachHandler(t)}}),r.a.createElement("button",{type:"button",className:"header__searchbox__cancel",onClick:function(){return e.onSearchInputChange("")}},"x"))}},{key:"renderLoginModal",value:function(){var e=this,t=this.props.dispatch,a=this.state.modalType;return r.a.createElement(T.a,{isOpen:a===K.LOGIN,onClose:function(){e.setState({modalType:null})}},r.a.createElement(T.g,null),r.a.createElement(T.d,null,r.a.createElement(T.f,null,"Log On"),r.a.createElement(T.c,null),r.a.createElement(T.b,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{htmlFor:"account"},"Account"),r.a.createElement(D.a,{type:"text",id:"account",placeholder:"Account",onChange:function(t){return e.onAccountInputChange(t.target.value)}})),r.a.createElement(I.a,null,r.a.createElement(L.a,{htmlFor:"password"},"Password"),r.a.createElement(D.a,{type:"password",id:"password",placeholder:"Password",onChange:function(t){return e.onPasswordInputChange(t.target.value)}}))),r.a.createElement(T.e,null,r.a.createElement(H.a,{variant:"ghost",id:"submit",onClick:function(){var a=e.state,n=a.account,r=a.password;t(function(e,t,a){return{type:"LOGIN",payload:A.firestore().collection("users").where("id","==",e).get().then((function(e){var n=[];return w.a.forEach(e.docs,(function(e){n.push(e.data())})),n[0].password===t?(a(),{isLogin:!0,userInfo:n[0]}):{isLogin:!1,userInfo:{id:null}}})).catch((function(e){console.error("Error occurred: ",e)}))}}(n,r,(function(){e.setState({modalType:null})})))}},"Log On"))))}},{key:"renderLogo",value:function(){return r.a.createElement("div",{className:"header__nav"},r.a.createElement(m.b,{to:"/",title:M},r.a.createElement("i",{className:"header__logo icon-logo","aria-label":M})),r.a.createElement(m.b,{to:"/",className:"header__title",title:M},M))}},{key:"render",value:function(){var e=this.state.modalType;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__main"},this.renderLogo(),this.renderSearchBox()),r.a.createElement("div",{className:"header__control"},this.renderMenuList(),this.renderLoginModal()),e===K.LOGON&&this.renderLoginModal())}}]),a}(n.Component),X=Object(d.g)(Object(O.a)(Object(l.b)((function(e){return e}))(z))),W=(a(249),function(e){var t=e.tags;return r.a.createElement("div",{className:"tag-list"},w.a.map(t,(function(e){return r.a.createElement("div",{key:e.id,className:"tag-list__item"},r.a.createElement(m.b,{to:"/tag/".concat(e.tag),title:e.title,className:"tag-list__item__link"},r.a.createElement("span",{title:e.title,className:"tag-list__item__icon icon-".concat(e.className)}),r.a.createElement("span",{className:"tag-list__item__title"},e.title)))})))}),q=(a(250),function(e){var t=e.categories,a=e.topics;return r.a.createElement("div",{className:"app-container footer"},r.a.createElement("div",{className:"footer__column footer__column-2x"},r.a.createElement("h2",{className:"footer__heading"},"\u5206\u985e"),r.a.createElement(W,{tags:t})),r.a.createElement("div",{className:"footer__column"},r.a.createElement("h2",{className:"footer__heading"},"\u71b1\u9580\u8a0e\u8ad6"),r.a.createElement("div",{className:"align-row footer__hot-topic"},r.a.createElement("ul",{className:"unordered-list-circle"},w.a.map(a,(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(m.b,{to:e.link,title:e.title},e.title))}))))),r.a.createElement("div",{className:"footer__column"},r.a.createElement("h2",{className:"footer__heading"},"\u95dc\u65bc\u300c\u5403\u4ec0\u9ebc\uff0c\u3069\u3063\u3061\u300d"),r.a.createElement("ul",{className:"unordered-list-circle"},r.a.createElement("li",null,r.a.createElement("a",{title:"\u4ec0\u9ebc\u662f\u300c\u5403\u4ec0\u9ebc\uff0c\u3069\u3063\u3061\u300d\uff1f",href:"https://cythilya.github.io/2015/02/02/dotchi/",target:"_blank",rel:"noopener noreferrer"},"\u4ec0\u9ebc\u662f\u300c\u5403\u4ec0\u9ebc\uff0c\u3069\u3063\u3061\u300d\uff1f")),r.a.createElement("li",null,r.a.createElement("a",{title:"\u806f\u7d61\u6211\u5011",href:"mailto:cythilya@gmail.com"},"\u806f\u7d61\u6211\u5011")))))}),Q=["\u65e5\u5f0f\u6599\u7406","\u65e9\u5348\u9910","\u6c99\u62c9","\u71d2\u70e4","\u6f22\u5821","\u8f15\u98df","\u725b\u6392","\u751f\u9b5a\u7247","\u95dc\u6771\u716e","\u5e73\u50f9"],Z=["\u4eca\u5929\u5403\u98ef\uff0c\u8a72\u5403\u4ec0\u9ebc\u597d\u5462\uff1f\u53ea\u8981\u8f38\u5165\u7f8e\u98df\u6b32\u671b\uff0c\u7acb\u523b\u7d66\u4f60\u6700\u771f\u5be6\u3001\u73fe\u5834\u3001\u751f\u6d3b\u5316\u7684\u8a55\u50f9\uff0c\u627e\u9910\u5ef3\u518d\u4e5f\u4e0d\u7169\u60f1\uff0c\u5c31\u8b93\u5403\u4ec0\u9ebc\uff0c\u3069\u3063\u3061\u5e6b\u4f60\u6c7a\u5b9a\u5403\u4ec0\u9ebc\uff01","\u4f86\u81ea\u540d\u53e4\u5c4b\u7684\u65e9\u9910\uff0cKomeda coffee \u9b06\u8edf\u5976\u6cb9\u5410\u53f8\uff0c\u5357\u4eac\u677e\u6c5f\u7ad9","\u8207\u5c0f\u718a\u7dad\u5c3c\u7684\u5348\u8336\u7d04\u6703\uff01\u65b0\u5bbf\u300c\u8702\u871c\u5496\u5561\u300d\u9650\u5b9a\u767b\u5834","\u4e03\u5915\u5c31\u662f\u8981\u6d6a\u6f2b\u4e00\u4e0b\uff01\u5168\u53f0\u7cbe\u9078 10 \u5bb6\u7279\u8272\u6d6a\u6f2b\u666f\u89c0\u9910\u5ef3"],$=[{id:"bd3060eb-a952-4a5e-a4ec-b2cb91544786",className:"rice-bowl",title:"\u4e2d\u5f0f",tag:"\u4e2d\u5f0f\u6599\u7406",show:!0},{id:"183bde18-13b3-420e-bdfe-f33d36c26d22",className:"burger",title:"\u7f8e\u5f0f",tag:"\u7f8e\u5f0f\u6599\u7406",show:!0},{id:"4df916eb-6b84-4cd9-a3ba-aa80b89cb9f8",className:"sushi",title:"\u65e5\u5f0f",tag:"\u65e5\u5f0f\u6599\u7406",show:!0},{id:"4830b325-3623-4a4e-88d5-91f879baa5e8",className:"dim-sum",title:"\u6e2f\u5f0f",tag:"\u6e2f\u5f0f\u6599\u7406",show:!0},{id:"10283f0d-5e51-4503-8898-bef0d0e67dce",className:"sashimi",title:"\u97d3\u5f0f",tag:"\u97d3\u5f0f\u6599\u7406",show:!0},{id:"007f4c15-4782-4560-b7c9-f5c91f4ae4bf",className:"thai-food",title:"\u6cf0\u5f0f",tag:"\u6cf0\u5f0f\u6599\u7406",show:!0},{id:"15eedeed-0786-405d-bb8a-8e06596f6afe",className:"spaguetti",title:"\u7fa9\u5f0f",tag:"\u7fa9\u5f0f\u6599\u7406",show:!0},{id:"2421f4e0-c479-4c0b-84f9-998b44a7aadd",className:"croissant",title:"\u6cd5\u5f0f",tag:"\u6cd5\u5f0f\u6599\u7406",show:!0},{id:"a25b7aa8-87b6-4ad3-8cc7-8529190ab006",className:"curry",title:"\u5370\u5ea6",tag:"\u5370\u5ea6\u6599\u7406",show:!0},{id:"bc41ee12-8b72-4bf4-9961-3919c302301b",className:"merlion",title:"\u661f\u99ac\u5357\u6d0b",tag:"\u661f\u99ac\u5357\u6d0b\u6599\u7406",show:!0},{id:"086f0866-1ed4-4d5d-836f-4b42ebaec24d",className:"wok",title:"\u7570\u570b",tag:"\u7570\u570b\u6599\u7406",show:!0},{id:"76363331-4912-453c-ab98-4aba16dde936",className:"buffet",title:"\u5403\u5230\u98fd",tag:"\u5403\u5230\u98fd",show:!0},{id:"5cdce9c4-c9b5-425f-b62d-bdc903b56abd",className:"grill",title:"\u71d2\u70e4",tag:"\u71d2\u70e4",show:!0},{id:"290a27f2-e3b6-4638-9857-7efbd06dece2",className:"pot",title:"\u706b\u934b",tag:"\u706b\u934b",show:!0},{id:"e64fe1f3-f627-4041-89e4-1e9ade3ada43",className:"tray",title:"\u9435\u677f\u71d2",tag:"\u9435\u677f\u71d2",show:!0},{id:"1e6d0d1b-e152-434a-a954-8cf205ab1c19",className:"breakfast",title:"\u8907\u5408/\u7c21\u9910",tag:"\u8907\u5408\u9910\u98f2",show:!0},{id:"6892b0ab-b7be-41d1-b84d-e1998089c70b",className:"self-service",title:"\u81ea\u52a9\u9910",tag:"\u81ea\u52a9\u9910",show:!0},{id:"e3561ce3-928a-45c4-8759-6f007230ab58",className:"lunch-box",title:"\u4fbf\u7576",tag:"\u4fbf\u7576"},{id:"31725bce-b40c-11e8-96f8-529269fb1459",className:"popcorn",title:"\u901f\u98df",tag:"\u901f\u98df",show:!0},{id:"9011f22f-449c-459f-bd1b-6f2924adb39c",className:"sandwich",title:"\u65e9\u5348\u9910",tag:"\u65e9\u5348\u9910",show:!0},{id:"72815cd4-768a-4e6f-a520-a8fb002d04c2",className:"salad-bowl",title:"\u8f15\u98df",tag:"\u8f15\u98df",show:!0},{id:"9d2df9cc-c5e5-4eaa-8123-b7c0ee14073d",className:"piece-of-cake",title:"\u751c\u9ede",tag:"\u751c\u9ede",show:!0},{id:"84c0e0de-3e65-4ab9-bb9a-2f7433ea4a3c",className:"cake-with-strawberry",title:"\u4e0b\u5348\u8336",tag:"\u4e0b\u5348\u8336",show:!0},{id:"e34686f1-88b3-4219-b5fa-62d49a3a368e",className:"beer",title:"\u9152\u5427",tag:"\u9152\u5427",show:!0},{id:"01f558aa-ca2d-4ca2-add7-7ca945dba6e9",className:"noodles",title:"\u5c0f\u5403",tag:"\u5c0f\u5403",show:!0},{id:"f3865f75-f4ed-431d-b130-b890b3be444f",className:"lettuce",title:"\u7d20\u98df",tag:"\u7d20\u98df",show:!0},{id:"ac890d9c-b409-11e8-96f8-529269fb1459",className:"instant-noodles",title:"\u8abf\u7406\u5305",tag:"\u8abf\u7406\u5305",show:!0},{id:"c5a95896-c009-4af3-83df-aee304b84ea8",className:"network",title:"\u7db2\u5496",tag:"\u7db2\u5496",show:!0},{id:"bea91673-c6b4-4ac3-87b4-b1b9258d9a3e",className:"doll",title:"\u4e3b\u984c\u7279\u8272",tag:"\u4e3b\u984c\u7279\u8272",show:!0},{id:"a3af7f04-5183-4e47-9905-8705469506d7",className:"baby-boy",title:"\u89aa\u5b50\u53cb\u5584",tag:"\u89aa\u5b50\u53cb\u5584",show:!0},{id:"e45de147-ab0a-4c26-a077-b23f03c3e51f",className:"pets",title:"\u5bf5\u7269\u53cb\u5584",tag:"\u5bf5\u7269\u53cb\u5584",show:!0},{id:"ac891954-b409-11e8-96f8-529269fb1459",className:"baking",title:"DIY",tag:"DIY",show:!0},{id:"a96feaff-4711-469e-a20f-5fef8f0d9d96",className:"food-truck",title:"\u5c0f\u8ca9\u9910\u8eca",tag:"\u5c0f\u8ca9\u9910\u8eca",show:!0},{id:"4479113d-2297-45b8-9657-a35089d59504",className:"orange-juice",title:"\u5496\u5561\u8336\u98f2",tag:"\u5496\u5561\u8336\u98f2",show:!0},{id:"11ee2741-7a51-4907-93a4-e38a85bcbad6",className:"toast",title:"\u70d8\u7119\u7cd5\u9ede",tag:"\u70d8\u7119\u7cd5\u9ede",show:!0},{id:"97c2e5f3-4397-4d47-b80f-88e62521c7f6",className:"dinner-table",title:"\u5176\u4ed6",tag:"\u5176\u4ed6",show:!0}],ee=[{id:"1",className:"sushi",title:"\u58fd\u53f8",tag:"\u58fd\u53f8",show:!0},{id:"2",className:"sandwich",title:"\u65e9\u5348\u9910",tag:"\u65e9\u5348\u9910",show:!0},{id:"3",className:"grill",title:"\u71d2\u70e4",tag:"\u71d2\u70e4",show:!0},{id:"4",className:"burger",title:"\u6f22\u5821",tag:"\u6f22\u5821",show:!0},{id:"5",className:"salad-bowl",title:"\u8f15\u98df",tag:"\u8f15\u98df",show:!0},{id:"6",className:"steak",title:"\u725b\u6392",tag:"\u725b\u6392",show:!0},{id:"7",className:"piece-of-cake",title:"\u751c\u9ede",tag:"\u751c\u9ede",show:!0},{id:"8",className:"dim-sum",title:"\u6e2f\u5f0f\u5c0f\u9ede",tag:"\u6e2f\u5f0f\u6599\u7406",show:!0},{id:"9",className:"low-price",title:"\u5e73\u50f9",tag:"\u5e73\u50f9",show:!0},{id:"10",className:"beer-bottles",title:"\u5c45\u9152\u5c4b",tag:"\u5c45\u9152\u5c4b",show:!0},{id:"11",className:"coffee",title:"\u5496\u5561",tag:"\u5496\u5561",show:!0},{id:"12",className:"thai-food",title:"\u6cf0\u570b\u83dc",tag:"\u6cf0\u5f0f\u6599\u7406",show:!0},{id:"13",className:"tea-cup",title:"\u8336",tag:"\u8336",show:!0},{id:"14",className:"crab",title:"\u6d77\u9bae",tag:"\u6d77\u9bae",show:!0},{id:"15",className:"fried-chicken",title:"\u70b8\u96de",tag:"\u70b8\u96de",show:!0},{id:"16",className:"rice-bowl",title:"\u5bb6\u5e38\u83dc",tag:"\u5bb6\u5e38\u83dc",show:!0},{id:"17",className:"lettuce",title:"\u7d20\u98df",tag:"\u7d20\u98df",show:!0},{id:"18",className:"skewer",title:"\u4e32\u71d2",tag:"\u4e32\u71d2",show:!0},{id:"19",className:"baking",title:"DIY",tag:"DIY",show:!0},{id:"20",className:"spaguetti",title:"\u7fa9\u5927\u5229\u9eb5",tag:"\u7fa9\u5927\u5229\u9eb5",show:!0},{id:"21",className:"pot",title:"\u706b\u934b",tag:"\u706b\u934b",show:!0},{id:"22",className:"doll",title:"\u4e3b\u984c\u7279\u8272",tag:"\u4e3b\u984c\u7279\u8272",show:!0},{id:"23",className:"food-truck",title:"\u5c0f\u8ca9\u9910\u8eca",tag:"\u5c0f\u8ca9\u9910\u8eca",show:!0},{id:"24",className:"champagne",title:"\u6176\u8cc0",tag:"\u6176\u8cc0",show:!1},{id:"25",className:"takeaway",title:"\u5916\u5e36",tag:"\u5916\u5e36",show:!0},{id:"26",className:"baby-boy",title:"\u89aa\u5b50\u53cb\u5584",tag:"\u89aa\u5b50\u53cb\u5584",show:!0},{id:"27",className:"pets",title:"\u5bf5\u7269\u53cb\u5584",tag:"\u5bf5\u7269\u53cb\u5584",show:!0},{id:"38",className:"parking-yellow",title:"\u505c\u8eca\u4f4d",tag:"\u505c\u8eca\u4f4d",show:!0},{id:"29",className:"pokecoin",title:"\u5bf6\u53ef\u5922",tag:"\u5bf6\u53ef\u5922",show:!0},{id:"30",className:"train",title:"\u6377\u904b\u6cbf\u7dda",tag:"\u6377\u904b\u6cbf\u7dda",show:!0},{id:"31",className:"superheroe-black",title:"\u6f2b\u756b\u96dc\u8a8c",tag:"\u6f2b\u756b\u96dc\u8a8c",show:!0},{id:"32",className:"social-media",title:"\u62cd\u7167\u6253\u5361",tag:"\u62cd\u7167\u6253\u5361",show:!0},{id:"33",className:"sofa",title:"\u6c99\u767c",tag:"\u6c99\u767c",show:!0},{id:"996",className:"movie",title:"\u684c\u908a\u670d\u52d9",tag:"\u684c\u908a\u670d\u52d9",show:!0},{id:"997",className:"review",title:"\u7279\u5225\u63a8\u85a6",tag:"\u7279\u5225\u63a8\u85a6",show:!0},{id:"998",className:"baker",title:"\u7121\u83dc\u55ae",tag:"\u7121\u83dc\u55ae",show:!0},{id:"999",className:"delivery",title:"\u5916\u9001",tag:"\u5916\u9001",show:!0}],te=[{id:"209b9815-911e-42c0-a501-6757d8c63c62",title:"\u4e00\u500b\u4eba\u8981\u5403\u4ec0\u9ebc\u597d\uff1f",link:"/tag?keyword=\u4e00\u500b\u4eba",show:!0},{id:"96997512-6b97-4a5e-95cd-c7d588354a0a",title:"\u53f0\u5317\u6700\u9069\u5408\u7d04\u6703\u7684\u9910\u5ef3",link:"/tag?keyword=\u60c5\u4eba\u7bc0\u5927\u9910",show:!0},{id:"696cedc7-c4ea-4671-9c53-28897f3acb62",title:"\u600e\u9ebc\u5403\u624d\u6703\u7626\uff1f\u79d8\u8a23\u5728\u9019\u88e1",link:"/tag?keyword=\u7626\u8eab",show:!0},{id:"f7062e18-79f6-45b8-bb2b-9b883e347b15",title:"\u905b\u5c0f\u5b69\u7684\u597d\u53bb\u8655\uff01",link:"/tag?keyword=\u89aa\u5b50\u53cb\u5584",show:!0},{id:"69a62d6f-d62e-41be-8bf5-089895c41dba",title:"\u4e0d\u9650\u6642\uff01\u548c\u670b\u53cb\u6b61\u805a\u66a2\u804a\u4e0d\u8a2d\u9650",link:"/tag?keyword=\u4e0d\u9650\u6642",show:!0},{id:"f70efa1f-df85-4f2b-83ee-24aeb3948396",title:"\u6700\u9069\u5408\u5de5\u4f5c\u7684\u5496\u5561\u5ef3\u6e05\u55ae",link:"/tag?keyword=\u5de5\u4f5c",show:!0},{id:"e73418b4-b0f7-43bb-8381-355f2269900e",title:"\u5bf6\u53ef\u5922\u88dc\u7d66\u7ad9\uff01\u4f11\u606f\uff0c\u5145\u96fb\u548c Wifi",link:"/tag?keyword=\u5bf6\u53ef\u5922",show:!0},{id:"bbd01354-88a2-4930-849e-66bf75c2d978",title:"\u8d85\u503c\u6703\u54e1\u5361\u5927\u96c6\u5408\uff0c\u8fa6\u4e86\u7d55\u5c0d\u4e0d\u5f8c\u6094",link:"/tag?keyword=\u6703\u54e1\u5361",show:!0},{id:"0b664a52-fb2c-42e2-8e73-13e592ef6091",title:"\u7121\u9650\u6f2b\u756b\u770b\u5230\u98fd",link:"/tag?keyword=\u6f2b\u756b\u96dc\u8a8c",show:!0},{id:"d91b94a8-7ff7-4377-b49b-1d9db14b51b4",title:"\u4e00\u8d77\u770b\u8db3\u7403\u8cfd\uff0c\u8d85\u5927\u96fb\u8996\u87a2\u5e55\u3001\u5564\u9152",link:"/tag?keyword=\u904b\u52d5\u9152\u5427",show:!0},{id:"056bfcdb-4b5c-4845-89b2-abfb0159cb2b",title:"\u4f60\u4e5f\u53ef\u4ee5\u7576\u7db2\u7d05\uff01\u4f86\u9019\u88e1\u62cd\u7167\u6253\u5361",link:"/tag?keyword=\u62cd\u7167\u6253\u5361",show:!0}],ae="\u7dda\u4e0a\u8a02\u4f4d",ne="\u96fb\u8a71\u8a02\u4f4d",re="\u5c0e\u822a",ie="\u5730\u5740",ce="\u96fb\u8a71",le="\u71df\u696d\u6642\u9593",oe="\u50f9\u683c",se="\u7db2\u7ad9",me="\u52a0\u5165\u6211\u7684\u6700\u611b",de="\u79fb\u9664\u6211\u7684\u6700\u611b",ue="24 \u5c0f\u6642\u71df\u696d",pe="\u6377\u904b\u6cbf\u7dda",fe="\u4e0d\u9650\u6642",he="\u9644\u8fd1\u6709\u505c\u8eca\u4f4d",be="\u63d0\u4f9b\u63d2\u5ea7",_e="\u53ef\u5916\u5e36",ge="\u514d\u8cbb Wifi",Ee="\u53ea\u63a5\u53d7\u73fe\u91d1",ve="\u5ba2\u88fd\u5316\u670d\u52d9",Ne="\u89aa\u5b50\u53cb\u5584",ye="\u5bf5\u7269\u53cb\u5584",we="\u6709\u5bf6\u53ef\u5922\u88dc\u7d66\u7ad9",ke=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cookies.cookies,a=(e.dispatch,e.id);(!t||!t.dotchfooduser&&Y[a].needLogin)&&this.props.history.push("/")}},{key:"render",value:function(){var e="index"===this.props.id?"app-container--reverse":"";return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement("div",{className:"newsticker"},r.a.createElement(j.a,{news:Z})),r.a.createElement("div",{className:"app-container ".concat(e)},r.a.createElement("div",{className:"app-main-content"},this.props.children),r.a.createElement("div",{className:"app-menu"},r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading mb-1x"},"\u71b1\u9580\u4e3b\u984c"),r.a.createElement(W,{tags:ee})))),r.a.createElement(q,{categories:$,topics:te}))}}]),a}(n.Component),Oe=Object(d.g)(Object(O.a)(Object(l.b)((function(e){return e}))(ke))),Se=a(65),je=a.n(Se),Ce=(a(255),function(e){var t=e.store;return r.a.createElement("div",{className:"store-control-buttons"},t.booking.phone&&r.a.createElement(m.b,{to:"tel:".concat(t.booking.phone),title:ne,className:"button",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"store-control-buttons__icon icon-phone-white",title:ne}),r.a.createElement("span",{className:"button-with-line-breaks-text"},ne)),t.booking.online&&r.a.createElement(m.b,{to:"".concat(t.booking.online),title:ae,className:"button",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"store-control-buttons__icon icon-online-booking",title:ae}),r.a.createElement("span",{className:"button-with-line-breaks-text"},ae)),r.a.createElement(m.b,{to:"https://www.google.com.tw/maps/search/".concat(t.location.address),title:re,className:"button",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"store-control-buttons__icon icon-pin-on-map",title:re}),r.a.createElement("span",{className:"button-with-line-breaks-text short-word"},re)))}),Fe=(a(256),function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={isChangeFavStatus:!1,isFavorite:!1},n.handleAddFavList=n.handleAddFavList.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.isFavorite!==this.state.isFavorite&&this.setState({isChangeFavStatus:!0},(function(){setTimeout((function(){a.setState({isChangeFavStatus:!1})}),300)}))}},{key:"handleAddFavList",value:function(){var e=this.props,t=e.addFavList,a=e.store,n=e.userID,r=this.state.isFavorite;t({store:a,userID:n}),this.setState({isFavorite:!r})}},{key:"render",value:function(){var e=this.props.store,t=this.state,a=t.isFavorite,n=t.isChangeFavStatus,i=a?de:me,c=a?"icon-heart-full":"icon-heart-empty",l=n?"clicked":"";return r.a.createElement("div",{className:"card",key:e.id},r.a.createElement("a",{title:i,className:"card__fav-button button--transparent ".concat(l),target:"_blank",rel:"noopener noreferrer",onClick:this.handleAddFavList},r.a.createElement("span",{className:"card__fav-icon ".concat(c),title:i})),r.a.createElement(je.a,{offsetVertical:100},r.a.createElement("figure",null,r.a.createElement("picture",null,r.a.createElement("source",{media:"(min-width: 1080px)",srcSet:"".concat(e.image[6].url," 1x, ").concat(e.image[8].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 1080px)",srcSet:"".concat(e.image[2].url,"} 1x, ").concat(e.image[4].url," 2x"),type:"image/jpeg"}),r.a.createElement("source",{media:"(min-width: 840px)",srcSet:"".concat(e.image[5].url,"} 1x, ").concat(e.image[6].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 840px)",srcSet:"".concat(e.image[1].url,"} 1x, ").concat(e.image[2].url," 2x"),type:"image/jpeg"}),r.a.createElement("source",{media:"(min-width: 768px)",srcSet:"".concat(e.image[6].url," 1x, ").concat(e.image[8].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 768px)",srcSet:"".concat(e.image[2].url," 1x, ").concat(e.image[4].url," 2x"),type:"image/jpeg"}),r.a.createElement("source",{media:"(min-width: 568px)",srcSet:"".concat(e.image[6].url," 1x, ").concat(e.image[8].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 568px)",srcSet:"".concat(e.image[2].url," 1x, ").concat(e.image[4].url," 2x"),type:"image/jpeg"}),r.a.createElement("source",{media:"(min-width: 375px)",srcSet:e.image[7].url,type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 375px)",srcSet:e.image[3].url,type:"image/jpeg"}),r.a.createElement("source",{media:"(min-width: 320px)",srcSet:"".concat(e.image[6].url," 1x, ").concat(e.image[8].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(min-width: 320px)",srcSet:"".concat(e.image[2].url," 1x, ").concat(e.image[4].url," 2x"),type:"image/jpeg"}),r.a.createElement("source",{media:"(man-width: 319px)",srcSet:"".concat(e.image[5].url," 1x, ").concat(e.image[6].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"(man-width: 319px)",srcSet:"".concat(e.image[1].url," 1x, ").concat(e.image[2].url," 2x"),type:"image/jpeg"}),r.a.createElement("img",{className:"card__image",src:e.image[4].url,alt:e.name})),r.a.createElement("figcaption",{className:"hide"},e.name))),r.a.createElement("div",{className:"card__container"},r.a.createElement("h2",{className:"card__title"},r.a.createElement(m.b,{to:"/store/".concat(e.id),title:e.name},e.name)),r.a.createElement("div",{className:"card__tag-list"},e.tags.map((function(e){return r.a.createElement("div",{key:e,className:"card__tag-item"},r.a.createElement(m.b,{to:"/tag/".concat(e),title:e,className:"card__tag-link"},e))}))),r.a.createElement(Ce,{store:e})))}}]),a}(n.Component)),xe=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).renderCards=n.renderCards.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"FETCH_NEARBY_STORE_LIST",payload:A.firestore().collection("stores").where("nearby","==",!0).limit(4).get()}),e(R()),e(P())}},{key:"renderCards",value:function(e){var t=this.props.dispatch;return w.a.map(e,(function(e){return r.a.createElement(Fe,{key:e.id,store:e,addFavList:function(e){t(V(e))}})}))}},{key:"render",value:function(){var e=this.props,t=e.filteredStores,a=t.hotStoresData,n=t.nearbyStoresData,i=t.recommendStoresData,c=e.t;return r.a.createElement(Oe,{title:"\u9996\u9801",id:"index"},r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading"},"\u96e2\u6211\u6700\u8fd1",r.a.createElement("span",{className:"panel__heading-deco icon-pin-map"})),r.a.createElement(m.b,{to:"/nearby",className:"panel__view-more",title:"\u770b\u66f4\u591a-\u96e2\u6211\u6700\u8fd1"},c("labels:viewMore")),r.a.createElement("div",{className:"card-list"},this.renderCards(n))),r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading"},"\u731c\u4f60\u60f3\u5403"),r.a.createElement(m.b,{to:"/nearby",className:"panel__view-more",title:"\u770b\u66f4\u591a-\u731c\u4f60\u60f3\u5403"},c("labels:viewMore")),r.a.createElement("div",{className:"card-list"},this.renderCards(i))),r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading"},"\u71b1\u9580\u63a8\u85a6",r.a.createElement("span",{className:"panel__heading-deco icon-star"})),r.a.createElement(m.b,{to:"/nearby",className:"panel__view-more",title:"\u770b\u66f4\u591a-\u71b1\u9580\u63a8\u85a6"},c("labels:viewMore")),r.a.createElement("div",{className:"card-list"},this.renderCards(a))))}}]),a}(n.Component);xe.defaultProps={hotStoresData:[],nearbyStoresData:[],recommendStoresData:[]};var Te=Object(k.a)()(Object(l.b)((function(e){return e}))(xe)),Ie=(a(257),function(e){var t=e.features,a=t.cashOnly,n=t.customService,i=t.family,c=t.mrt,l=t.noTimeLimit,o=t.pokemon,s=t.parking,m=t.pet,d=t.socket,u=t.takeout,p=t.twentyfourhr,f=t.wifi;return r.a.createElement("div",{className:"feature-list"},p&&r.a.createElement("span",{title:ue,className:"feature-list__icon icon-24-hours"}),c&&r.a.createElement("span",{title:pe,className:"feature-list__icon icon-train"}),l&&r.a.createElement("span",{title:fe,className:"feature-list__text"},fe),s&&r.a.createElement("span",{title:he,className:"feature-list__icon icon-parking-yellow"}),d&&r.a.createElement("span",{title:be,className:"feature-list__icon icon-plug"}),u&&r.a.createElement("span",{title:_e,className:"feature-list__icon icon-takeaway"}),f&&r.a.createElement("span",{title:ge,className:"feature-list__icon icon-wifi"}),a&&r.a.createElement("span",{title:Ee,className:"feature-list__icon icon-cash"}),n&&r.a.createElement("span",{title:ve,className:"feature-list__icon icon-pc-mechanic"}),i&&r.a.createElement("span",{title:Ne,className:"feature-list__icon icon-baby-boy"}),m&&r.a.createElement("span",{title:ye,className:"feature-list__icon icon-pets"}),o&&r.a.createElement("span",{title:we,className:"feature-list__icon icon-pokecoin"}))});Ie.defaultProps={features:{}};var Le=Ie,De=function(e){var t=e.nav,a=e.activeIndex,n=e.onClickTabNavHandler,i=t.id===a?"selected":"";return r.a.createElement("div",{key:t.title,className:"tabs__nav__item ".concat(i),title:t.title,onClick:function(){return n(t.id)},onKeyDown:function(){return n(t.id)}},t.title)},He=function(e){var t=e.panel,a=e.activeIndex,n=t.id===a?"selected":"";return r.a.createElement("div",{key:t.title,id:t.hash,className:"tabs__panel__item ".concat(n)},t.content)},Me=(a(258),function(e){var t=e.tabs,a=e.activeIndex,n=e.onClickTabNavHandler;return r.a.createElement("div",{className:"tabs"},r.a.createElement("div",{className:"tabs__nav"},w.a.map(t,(function(e){var t={id:e.id,title:e.title,hash:e.hash};return r.a.createElement(De,{key:e.title,nav:t,activeIndex:a,onClickTabNavHandler:n})}))),r.a.createElement("div",{className:"tab__panel"},w.a.map(t,(function(e){var t={id:e.id,title:e.title,hash:e.hash,content:e.content};return r.a.createElement(He,{key:e.title,activeIndex:a,panel:t})}))))}),Ae=a(59),Re=(a(259),function(e){var t=e.comments[0].comments||[];return r.a.createElement("div",{className:"store-comments"},w.a.map(t,(function(e){var t=e.user,a=e.content;return r.a.createElement("div",{key:e.id,className:"store-comments__item"},r.a.createElement("div",{className:"store-comments__item__user-image icon-kitty"}),r.a.createElement("div",{className:"store-comments__item__detail"},r.a.createElement("div",{className:"store-comments__item__user-name"},t),r.a.createElement("div",{className:"store-comments__item__content"},a)))})))});Re.defaultProps={comments:[]};var Pe=Re,Ve=a(162),Ue=a(163),Be=(a(260),a(261),a(141),a(262),function(e){return e?void 0:"\u5fc5\u586b"}),Ge=function(e){var t=e.input,a=e.placeholder,n=e.autocomplete,i=e.meta,c=i.touched,l=i.error,o=i.warning;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,{type:"text",className:"form__input-text",placeholder:a,autocomplete:n})),c&&(l&&r.a.createElement("span",{className:"form__error"},l)||o&&r.a.createElement("span",{className:"form__warning"},o)))},Ye=function(e){var t=e.input,a=(e.label,e.type,e.meta),n=a.touched,i=a.error,c=e.children;return r.a.createElement("div",null,r.a.createElement("select",Object.assign({},t,{className:"form__select"}),c),n&&i&&r.a.createElement("span",{className:"form__error"},i))},Ke=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;Object(_.a)(this,a),n=t.call(this,e);e.id,e.storeid,e.closeForm,e.isFormValid,e.resetFormStatus,e.handleSubmit,e.pristine,e.reset,e.submitting,e.handleSubmitFail;return n}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.storeid,n=e.closeForm,i=e.isFormValid,c=e.resetFormStatus,l=e.handleSubmit,o=e.pristine,s=e.reset,m=e.submitting,d=e.handleSubmitFail,u=2!==i?"":"hide",p=i?"hide":"",f=2===i?"":"hide";return r.a.createElement("div",{className:"comment-form"},r.a.createElement("div",{className:u},r.a.createElement("div",{className:"comment-form__main-title"},r.a.createElement("h1",{className:"form__main-heading mb-2x"},"\u6211\u8981\u7d66\u8a55\u50f9\uff01"),r.a.createElement("i",{className:"comment-form__close",onClick:n,onKeyDown:n},"X")),r.a.createElement("form",{className:"form form-store-info",onSubmit:l,onSubmitFail:d},r.a.createElement("div",{className:"form__block"},r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label",htmlFor:"user"},"\u66b1\u7a31"),r.a.createElement("div",{className:"form__field"},r.a.createElement(Ve.a,{type:"text",component:Ge,id:"user",name:"user",placeholder:"\u8acb\u554f\u60a8\u7684\u5927\u540d\u662f\uff1f",className:"form__input-text",validate:[Be]}))),r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label",htmlFor:"rating"},"\u8a55\u7b49"),r.a.createElement("div",{className:"form__field"},r.a.createElement(Ve.a,{component:Ye,id:"rating",name:"rating",validate:[Be]},r.a.createElement("option",{value:"",disabled:!0},"\u8acb\u9078\u64c7\u8a55\u7b49"),r.a.createElement("option",{value:"5"},"5 \u661f\u7d1a\uff01\u771f\u662f\u592a\u68d2\u4e86 (\u6492\u82b1)"),r.a.createElement("option",{value:"4"},"4 \u9846\u661f\uff01\u5f88\u597d\u7684\u9ad4\u9a57\uff01"),r.a.createElement("option",{value:"3"},"3 \u9846\u661f\uff0c\u9084\u53ef\u4ee5\u645f\uff01"),r.a.createElement("option",{value:"2"},"2 \u9846\u661f\uff0c\u666e\u666e\u901a\u901a XD"),r.a.createElement("option",{value:"1"},"1 \u9846\u661f\uff0c\u6709\u5f85\u52a0\u5f37")))),r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label",htmlFor:"meal"},"\u9910\u5225"),r.a.createElement("div",{className:"form__field"},r.a.createElement(Ve.a,{component:Ye,id:"meal",name:"meal",validate:[Be]},r.a.createElement("option",{value:"",disabled:!0},"\u8acb\u9078\u64c7\u9910\u5225"),r.a.createElement("option",{value:"breakfast"},"\u65e9\u9910"),r.a.createElement("option",{value:"brunch"},"\u65e9\u5348\u9910"),r.a.createElement("option",{value:"lunch"},"\u5348\u9910"),r.a.createElement("option",{value:"afternoontea"},"\u4e0b\u5348\u8336"),r.a.createElement("option",{value:"dinner"},"\u665a\u9910"),r.a.createElement("option",{value:"midnightsnack"},"\u5bb5\u591c"),r.a.createElement("option",{value:"other"},"\u5176\u4ed6")))),r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label",htmlFor:"date"},"\u7528\u9910\u65e5\u671f"),r.a.createElement("div",{className:"form__field"},r.a.createElement(Ve.a,{type:"text",component:"input",id:"date",name:"date",placeholder:"yyyy/mm/dd",className:"form__input-text",validate:[Be]}))),r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{htmlFor:"content",className:"form__label"},"\u5167\u5bb9"),r.a.createElement("div",{className:"form__field"},r.a.createElement(Ve.a,{type:"text",component:Ge,id:"content",name:"content",placeholder:"\u60f3\u8aaa\u4ec0\u9ebc\u5462\uff1f",className:"form__input-text",validate:[Be]}))),r.a.createElement(Ve.a,{type:"text",component:"input",name:"docid",value:t,className:"hide"}),r.a.createElement(Ve.a,{type:"text",component:"input",name:"id",value:a,className:"hide"})),r.a.createElement("div",{className:"form__button-group"},r.a.createElement("button",{type:"submit",disabled:o||m,className:"button"},"\u63d0\u4ea4")))),r.a.createElement("div",{className:"".concat(p)},r.a.createElement("div",{className:"alert alert--danger"},r.a.createElement("div",{className:"alert--icon"},"\u2717"),r.a.createElement("div",{className:"alert--content"},"\u55da\u55da\u51fa\u932f\u4e86\uff0c\u8acb\u91cd\u65b0\u518d\u8a66\u4e00\u6b21"))),r.a.createElement("div",{className:f},r.a.createElement("div",{className:"alert alert--success"},r.a.createElement("div",{className:"alert--icon"},"\u2713"),r.a.createElement("div",{className:"alert--content"},"\u611f\u8b1d\u60a8\u7684\u610f\u898b\uff01\u8cc7\u6599\u5be9\u6838\u9700\u7d04\u4e00\u9031\uff0c\u8acb\u8010\u5fc3\u7b49\u5019\u3002\u5be9\u6838\u901a\u904e\u5c31\u6703\u51fa\u73fe\u5728\u9801\u9762\u4e0a\uff01")),r.a.createElement("div",{className:"form__button-group"},r.a.createElement("button",{type:"button",onClick:function(){s(),c(1),n(1)},className:"button--default"},"\u9ede\u6211\u95dc\u9589"))))}}]),a}(n.Component);Ke.defaultProps={};var Je=Object(Ue.a)({form:"commentData"})(Ke),ze=(a(360),function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={isOpenReviewForm:!1,isFormValid:1},n.renderStoreComments=n.renderStoreComments.bind(Object(E.a)(n)),n.enableCommentForm=n.enableCommentForm.bind(Object(E.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(E.a)(n)),n.handleSubmitFail=n.handleSubmitFail.bind(Object(E.a)(n)),n.resetFormStatus=n.resetFormStatus.bind(Object(E.a)(n)),n.closeStoreCommentForm=n.closeStoreCommentForm.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.comments,n=e.storeid;t(Object(Ae.a)("commentData","docid",a.id)),t(Object(Ae.a)("commentData","id",n))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dispatch,n=t.comments,r=t.storeid;n.id!==e.comments.id&&a(Object(Ae.a)("commentData","docid",n.id)),r!==e.storeid&&a(Object(Ae.a)("commentData","id",r))}},{key:"enableCommentForm",value:function(){this.setState({isOpenReviewForm:!0})}},{key:"handleFormSubmit",value:function(e){var t=this,a=this.props,n=a.dispatch;a.comments.id?n(function(e){var t=e.docid,a={user:e.user,rating:e.rating,meal:e.meal,date:e.date,content:e.content};return{type:"SAVE_STORE_COMMENT",payload:A.firestore().collection("comments").doc(t).update({comments:A.firestore.FieldValue.arrayUnion(a)})}}(e)).then((function(){t.setState({isFormValid:2})})):n(function(e){var t=e.id,a=e.user,n=e.rating,r=e.meal,i=e.date,c=e.content;return{type:"INSERT_STORE_COMMENT",payload:A.firestore().collection("comments").add({id:t,comments:[{user:a,rating:n,meal:r,date:i,content:c}]})}}(e)).then((function(){t.setState({isFormValid:2})}))}},{key:"handleSubmitFail",value:function(){this.setState({isFormValid:0})}},{key:"resetFormStatus",value:function(e){this.setState({isFormValid:e})}},{key:"closeStoreCommentForm",value:function(){this.setState({isOpenReviewForm:!1,isFormValid:1})}},{key:"renderStoreComments",value:function(e,t){var a=this.state,n=a.isOpenReviewForm,i=a.isFormValid,c=e.commentList||[],l=c.length>0?r.a.createElement(Pe,{comments:c}):r.a.createElement("div",{className:"store-info__no-comments"},"\u66ab\u7121\u8a55\u50f9!");return r.a.createElement("div",null,n&&r.a.createElement(Je,{id:e.id,storeid:t,isFormValid:i,onSubmit:this.handleFormSubmit,onSubmitFail:this.handleSubmitFail,closeForm:this.closeStoreCommentForm,resetFormStatus:this.resetFormStatus}),l)}},{key:"render",value:function(){var e=this.props,t=e.comments,a=e.storeid;return r.a.createElement("div",{className:"store-review"},r.a.createElement("div",{className:"store-review__control"},r.a.createElement("div",null,"\u60f3\u8aaa\u4ec0\u9ebc\u55ce\uff1f",r.a.createElement("span",{className:"store-review__feedback",onClick:this.enableCommentForm,onKeyDown:this.enableCommentForm},"\u9ede\u9019\u88e1"),"\u7d66\u8a55\u50f9\uff01")),this.renderStoreComments(t,a))}}]),a}(n.Component));ze.defaultProps={comments:{}};var Xe=Object(l.b)((function(e){return e}))(ze),We=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={index:0},n.onClickHandler=n.onClickHandler.bind(Object(E.a)(n)),n.renderStoreInfo=n.renderStoreInfo.bind(Object(E.a)(n)),n.renderStoreComments=n.renderStoreComments.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"onClickHandler",value:function(e){this.setState({index:e})}},{key:"renderStoreInfo",value:function(e){return r.a.createElement("div",null,r.a.createElement("ul",{className:"store-info__detail"},r.a.createElement("li",{className:"store-info__detail__item"},r.a.createElement("i",{className:"store-info__detail__item__icon icon-pin-map",title:ie}),r.a.createElement("a",{title:re,href:"https://www.google.com.tw/maps/search/".concat(e.location.address),target:"_blank",rel:"noopener noreferrer"},e.location.address)),r.a.createElement("li",{className:"store-info__detail__item"},r.a.createElement("i",{className:"store-info__detail__item__icon icon-phone",title:ce}),r.a.createElement("a",{title:ce,href:"".concat(e.phone),target:"_blank",rel:"noopener noreferrer"},e.phone)),r.a.createElement("li",{className:"store-info__detail__item"},r.a.createElement("i",{className:"store-info__detail__item__icon icon-clock-circular-outline",title:le}),e.openingHour.start,"~",e.openingHour.end),r.a.createElement("li",{className:"store-info__detail__item"},r.a.createElement("i",{className:"store-info__detail__item__icon icon-dollar",title:oe}),e.price.lowest,"~",e.price.highest),r.a.createElement("li",{className:"store-info__detail__item"},r.a.createElement("i",{className:"store-info__detail__item__icon icon-global",title:se}),r.a.createElement("a",{title:e.name,href:"".concat(e.sns.website),target:"_blank",rel:"noopener noreferrer"},e.name))),e.features&&r.a.createElement(Le,{features:e.features}),r.a.createElement("div",{className:"store-info__tag-list"},e.tags.map((function(e){return r.a.createElement("div",{key:e,className:"store-info__tag-item"},r.a.createElement(m.b,{to:"/tag/".concat(e),className:"store-info__tag-link",title:e},e))}))))}},{key:"renderStoreComments",value:function(e,t){return r.a.createElement(Xe,{comments:e,storeid:t})}},{key:"render",value:function(){var e=this.props,t=e.store,a=e.comments,n=this.state.index,i=[{id:0,title:"\u8cc7\u8a0a",hash:"info",content:this.renderStoreInfo(t)},{id:1,title:"\u8a55\u50f9",hash:"comment",content:this.renderStoreComments(a,t.id)}];return r.a.createElement("div",null,r.a.createElement("div",{key:t.id,className:"store-info"},r.a.createElement("div",{className:"store-info__image",style:{background:"#e8e8e8",width:"175px",height:"175px"}},r.a.createElement(je.a,{offsetVertical:100,height:175},r.a.createElement("figure",null,r.a.createElement("picture",null,r.a.createElement("source",{media:"all",srcSet:"".concat(t.image[5].url," 1x, ").concat(t.image[6].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"all",srcSet:"".concat(t.image[1].url," 1x, ").concat(t.image[2].url," 2x"),type:"image/jpeg"}),r.a.createElement("img",{src:t.image[1].url,alt:t.name})),r.a.createElement("figcaption",{className:"hide"},t.name)))),r.a.createElement("div",{className:"store-info__container"},r.a.createElement("div",{className:"store-info__content"},t.description,r.a.createElement(Ce,{store:t})),r.a.createElement(Me,{tabs:i,activeIndex:n,onClickTabNavHandler:this.onClickHandler}))))}}]),a}(n.Component);We.defaultProps={comments:{}};var qe=We,Qe=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(R())}},{key:"renderCards",value:function(e){var t=this;return w.a.map(e,(function(e){return r.a.createElement(Fe,{key:e.id,store:e,ref:t.card})}))}},{key:"render",value:function(){var e=this.props.tags,t=this.props.filteredStores.recommendStoresData;return r.a.createElement("div",null,r.a.createElement("h1",{className:"panel__main-heading"},"\u627e\u4e0d\u5230\uff01"),r.a.createElement(m.b,{to:"/",title:"\u56de\u300c\u5403\u4ec0\u9ebc\u300d\u9996\u9801"},"\u56de\u9996\u9801"),"\u6216\u770b\u71b1\u9580\u95dc\u9375\u5b57",r.a.createElement(m.b,{to:"/tag/".concat(e[0]),title:e[0]},e[0]),"\u3001",r.a.createElement(m.b,{to:"/tag/".concat(e[1]),title:e[1]},e[1]),"\u3001",r.a.createElement(m.b,{to:"/tag/".concat(e[2]),title:e[2]},e[2]),r.a.createElement("hr",null),r.a.createElement("div",{className:"mt-2x"},r.a.createElement("h1",{className:"panel__main-heading"},"\u731c\u4f60\u60f3\u5403"),r.a.createElement("div",{className:"card-list"},this.renderCards(t))))}}]),a}(n.Component);Qe.defaultProps={filteredStores:null};var Ze=Object(l.b)((function(e){return e}))(Qe),$e=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=(e.router,this.props.match.params.id);t(U(a)),t(B(a))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dispatch,n=t.match.params.id;n!==e.match.params.id&&(a(U(n)),a(B(n)))}},{key:"render",value:function(){var e=this.props,t=e.store,a=e.storeComments,n=w.a.isEmpty(t),i=w.a.isObject(t)&&w.a.isEmpty(t);return r.a.createElement(Oe,{title:"\u5546\u5e97\u55ae\u9801",id:"store"},r.a.createElement("div",{className:"panel"},!n&&r.a.createElement("div",null,r.a.createElement("h1",{className:"panel__main-heading mb-2x"},r.a.createElement(m.b,{to:"/store/".concat(t.id),title:t.name},t.name)),r.a.createElement(qe,{store:t,comments:a})),n&&r.a.createElement(Ze,{tags:Q.slice(0,3)}),i&&r.a.createElement("div",{className:"icon-loading store-item__loading"})))}}]),a}(n.Component);$e.defaultProps={storeComments:{}};var et=Object(d.g)(Object(l.b)((function(e){return e}))($e)),tt=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).renderCardList=n.renderCardList.bind(Object(E.a)(n)),n.renderCards=n.renderCards.bind(Object(E.a)(n)),n.renderNoDataHint=n.renderNoDataHint.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(e){var t=e.user.userInfo.id,a=this.props,n=a.dispatch,r=a.user.userInfo.id;r&&t!==r&&n(function(e){return{type:"FETCH_FAV_LIST",payload:A.firestore().collection("favlist").where("id","==",e).limit(20).get()}}(r))}},{key:"renderCards",value:function(e){var t=this.props,a=t.dispatch,n=t.user.userInfo;return w.a.map(e,(function(e){return r.a.createElement(Fe,{addFavList:function(e){a(V(e))},key:e.id,store:e,userID:n.id})}))}},{key:"renderCardList",value:function(){var e=this.props.favList;return r.a.createElement("div",{className:"card-list"},this.renderCards(e))}},{key:"renderNoDataHint",value:function(){return r.a.createElement("div",null,"\u9019\u88e1\u662f\u7a7a\u7684 XDDD")}},{key:"render",value:function(){var e=this.props,t=e.favList,a=e.user.isLogin,n=!w.a.size(t);return r.a.createElement("div",null,n&&this.renderNoDataHint(),!n&&a&&this.renderCardList(t))}}]),a}(n.Component);tt.defaultProps={favList:null};var at=Object(O.a)(Object(l.b)((function(e){return e}))(tt)),nt=function(e){Object(v.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).renderCards=n.renderCards.bind(Object(E.a)(n)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(P())}},{key:"renderCards",value:function(e){var t=this.props,a=t.dispatch,n=t.user.userInfo;return w.a.map(e,(function(e){return r.a.createElement(Fe,{addFavList:function(e){a(V(e))},key:e.id,store:e,userID:n.id})}))}},{key:"render",value:function(){var e=this.props.filteredStores.hotStoresData;return r.a.createElement(Oe,{title:"\u9996\u9801",id:"index"},r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading"},"\u6211\u7684\u6700\u611b"),r.a.createElement(at,null)),r.a.createElement("div",{className:"panel"},r.a.createElement("h1",{className:"panel__main-heading"},"\u71b1\u9580\u63a8\u85a6",r.a.createElement("span",{className:"panel__heading-deco icon-star"})),r.a.createElement(m.b,{to:"/nearby",className:"panel__view-more",title:"\u770b\u66f4\u591a-\u71b1\u9580\u63a8\u85a6"},"\u770b\u66f4\u591a"),r.a.createElement("div",{className:"card-list"},this.renderCards(e))))}}]),a}(n.Component);nt.defaultProps={favList:null,hotStoresData:[]};var rt=Object(l.b)((function(e){return e}))(nt),it=(a(361),function(e){var t=e.store;return r.a.createElement("div",null,r.a.createElement("div",{key:t.id,className:"store-item"},r.a.createElement("div",{className:"store-item__image",style:{background:"#e8e8e8",width:"175px",height:"175px"}},r.a.createElement(je.a,{offsetVertical:100,height:175},r.a.createElement("figure",null,r.a.createElement("picture",null,r.a.createElement("source",{media:"all",srcSet:"".concat(t.image[5].url," 1x, ").concat(t.image[6].url," 2x"),type:"image/webp"}),r.a.createElement("source",{media:"all",srcSet:"".concat(t.image[1].url," 1x, ").concat(t.image[2].url," 2x"),type:"image/jpeg"}),r.a.createElement("img",{src:t.image[1].url,alt:t.name})),r.a.createElement("figcaption",{className:"hide"},t.name)))),r.a.createElement("div",{className:"store-item__container"},r.a.createElement("h2",{className:"store-item__title"},r.a.createElement(m.b,{to:"/store/".concat(t.id),title:t.name},t.name)),r.a.createElement("div",{className:"store-item__description "},t.description),r.a.createElement("ul",{className:"store-item__detail"},r.a.createElement("li",{className:"store-item__detail__item"},r.a.createElement("i",{className:"store-item__detail__item__icon icon-pin-map",title:ie}),r.a.createElement("a",{title:re,href:"https://www.google.com.tw/maps/search/".concat(t.location.address),target:"_blank",rel:"noopener noreferrer"},t.location.address)),r.a.createElement("li",{className:"store-item__detail__item"},r.a.createElement("i",{className:"store-item__detail__item__icon icon-phone",title:ce}),r.a.createElement("a",{title:ce,href:"".concat(t.phone),target:"_blank",rel:"noopener noreferrer"},t.phone)),r.a.createElement("li",{className:"store-item__detail__item"},r.a.createElement("i",{className:"store-item__detail__item__icon icon-clock-circular-outline",title:le}),t.openingHour.start,"~",t.openingHour.end),r.a.createElement("li",{className:"store-item__detail__item"},r.a.createElement("i",{className:"store-item__detail__item__icon icon-dollar",title:oe}),t.price.lowest,"~",t.price.highest),r.a.createElement("li",{className:"store-item__detail__item"},r.a.createElement("i",{className:"store-item__detail__item__icon icon-global",title:se}),r.a.createElement("a",{title:t.name,href:"".concat(t.sns.website),target:"_blank",rel:"noopener noreferrer"},t.name))),r.a.createElement("div",{className:"store-item__tag-list"},t.tags.map((function(e){return r.a.createElement("div",{key:e,className:"store-item__tag-item"},r.a.createElement(m.b,{to:"/tag/".concat(e),className:"store-item__tag-link",title:e},e))}))),r.a.createElement(Ce,{store:t}))))}),ct=Object(n.createContext)(),lt=function(){var e=Object(n.useContext)(ct);return w.a.map(e,(function(e){return r.a.createElement(it,{key:e.id,store:e})}))},ot=function(e){return w.a.isArray(e)&&w.a.isEmpty(e)},st=function(e){var t=ot(e);return w.a.isObject(e)&&!w.a.isArray(e)&&w.a.isEmpty(e)?r.a.createElement("div",{className:"icon-loading store-item__loading"}):t?r.a.createElement(Ze,{tags:Q.slice(0,3)}):void 0},mt=function(){var e=Object(l.c)(),t=Object(d.f)().keyword,a=Object(l.d)((function(e){return e.stores})),i=ot(a);return Object(n.useEffect)((function(){var a;e((a=t,{type:"FETCH_STORE_LIST_BY_TAG",payload:A.firestore().collection("stores").where("tags.".concat(a),"==",!0).get()}))}),[t]),r.a.createElement(Oe,{title:"\u6a19\u7c64\u9801",id:"tag"},r.a.createElement("div",{className:"panel"},r.a.createElement(ct.Provider,{value:a},!i&&r.a.createElement("h1",{className:"panel__main-heading mb-2x"},t),r.a.createElement(lt,null),st(a))))},dt=a(164),ut=a(70),pt={isLogin:!1,userInfo:{id:null}},ft=Object(s.c)({stores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];switch(t.type){case"FETCH_STORE_LIST":case"FETCH_STORE_LIST_BY_TAG":return t.payload.forEach((function(e){a=[].concat(Object(ut.a)(a),[e.data()])})),a.forEach((function(e){"object"===typeof e.tags&&(e.tags=w.a.keys(e.tags))})),a;default:return e}},filteredStores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[],n=[],r=[];switch(t.type){case"FETCH_NEARBY_STORE_LIST":return w.a.forEach(t.payload.docs,(function(e){r.push(e.data())})),w.a.forEach(r,(function(e){"object"===typeof e.tags&&(e.tags=w.a.keys(e.tags))})),Object(C.a)(Object(C.a)({},e),{},{nearbyStoresData:r});case"FETCH_RECOMMEND_STORE_LIST":return w.a.forEach(t.payload.docs,(function(e){n.push(e.data())})),w.a.forEach(n,(function(e){"object"===typeof e.tags&&(e.tags=w.a.keys(e.tags))})),Object(C.a)(Object(C.a)({},e),{},{recommendStoresData:n});case"FETCH_HOT_STORE_LIST":return w.a.forEach(t.payload.docs,(function(e){a.push(e.data())})),w.a.forEach(a,(function(e){"object"===typeof e.tags&&(e.tags=w.a.keys(e.tags))})),Object(C.a)(Object(C.a)({},e),{},{hotStoresData:a});default:return e}},slideshows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];switch(t.type){case"FETCH_SLIDES_DATA":return w.a.forEach(t.payload.docs,(function(e){a.push(e.data())})),Object(C.a)(Object(C.a)({},e),{},{slidesData:a});default:return e}},form:dt.a,store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];switch(t.type){case"FETCH_STORE_INFO":return t.payload.forEach((function(e){a=[].concat(Object(ut.a)(a),[e.data()])})),a.forEach((function(e){"object"===typeof e.tags&&(e.tags=w.a.keys(e.tags))})),a[0];default:return e}},storeComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[],n="";switch(t.type){case"FETCH_STORE_COMMENTS":return t.payload.forEach((function(e){n=e.id,a=[].concat(Object(ut.a)(a),[e.data()])})),{id:n,commentList:a};default:return e}},favList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];switch(t.type){case"FETCH_FAV_LIST":return w.a.forEach(t.payload.docs,(function(e){a.push(e.data())})),Object(C.a)({},a[0].list);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var a=JSON.stringify(t.payload.userInfo);return document.cookie="".concat("dotchfooduser","=").concat(a,"; path=/"),Object(C.a)(Object(C.a)({},e),{},{isLogin:t.payload.isLogin,userInfo:t.payload.userInfo});case"LOGOUT":return document.cookie="".concat("dotchfooduser","=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),Object(C.a)(Object(C.a)({},e),pt);case"RESTORE_USER_INFO":return Object(C.a)(Object(C.a)({},e),{},{isLogin:!0,userInfo:t.payload});default:return e}}}),ht=a(129),bt=a(60),_t={labels:{viewMore:"\u770b\u66f4\u591a"}},gt={tw:Object(C.a)({},_t)};ht.a.use(bt.e).init({resources:gt,lng:"tw",keySeparator:!0,interpolation:{escapeValue:!1},returnObjects:!0});var Et=ht.a,vt=Object(s.a)(p.a)(s.d);c.a.render(r.a.createElement(o.a,{i18n:Et},r.a.createElement(f.a,null,r.a.createElement(h.a,null),r.a.createElement(b.a,null,r.a.createElement(l.a,{store:vt(ft)},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/tag/:keyword",component:mt}),r.a.createElement(d.a,{path:"/store/:id",component:et}),r.a.createElement(d.a,{path:"/fav/",component:rt}),r.a.createElement(d.a,{path:"/",component:Te})))))))),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.fd9dc3f9.chunk.js.map